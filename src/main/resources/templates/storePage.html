<!DOCTYPE html>
<html lang="en">
<html xmlns = "http://www.w3.org/1999/xhtml"
      xmlns:th = "http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>StorePage</title>
    <link rel="stylesheet" th:href="@{/storeStyle.css}" type = "text/css">
</head>
<body>
<div th:object="${customer}" class = "CustTracker">
    <label for="username">Username: </label>
    <div th:text=" *{username}" id = "username"></div>
    <br/>

    <label for="inventory Size">Inventory size:</label>
    <div th:text="*{getInventory().keySet().size()}" id = "inventory size"></div>
    <br/>

    <label for="Cart size">Items in cart: </label>
    <div th:text="*{getShoppingCart().size()}" id = "Cart size"></div>
    <br>
</div>
<h1 th:text="${storeName}">defaultHolder</h1>
<form method="post" th:action = "@{/store}">
    <input type="hidden" th:object="${customer}"  th:field="*{lastVisited}" th:value="${storeName}">
<div th:each="item: ${#lists.toList(inventory.keySet())}" class="itemCard">
    <span th:text="${item.getName()}"></span>
    <span th:text = "${item.getPrice()}"></span>

    <span th:if = "${item.getClass().getName()} == 'Xeia.Items.Equipment'" th:text = "${item.isEnchantable()}"></span>
    <span th:if = "${item.getClass().getName()} == 'Xeia.Items.Equipment'" th:text="${item.getEnchantment()}"></span>
    <span th:if = "${item.getClass().getName()} == 'Xeia.Items.Equipment'" th:text="${item.getItemLvl()}"></span>
    <span th:if = "${item.getClass().getName()} == 'Xeia.Items.Consumable'" th:text = "${item.getEffect()}"></span>
    <span th:if = "${item.getClass().getName()} == 'Xeia.Items.Consumable'" th:text="${item.getQuality()}"></span>
    <span th:text = "${inventory.get(item)}">quantity</span>
    <input type="number"  min="0" th:max ="${inventory.get(item)}" th:field = " ${customer.cartBuffer[__${item.name}__]}" >

</div>

    <button type="submit">add to cart</button>
</form>

</body>
</html>